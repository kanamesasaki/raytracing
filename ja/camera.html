<!doctype html>
<html lang="ja">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CCZTCJYRD8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-CCZTCJYRD8');
    </script>
    <meta charset="UTF-8">
    <title>カメラの回転移動とズーム - WebGL2でレイトレーシング</title>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../style.css">
  </head>
  <header>
    <a href="index.html">WebGL2でレイトレーシング</a> &#187;
    <a href="import-shader.html">カメラの回転移動とズーム</a>
    <span style="float: right"><ul class="select-lang">
        <li><a href="../en/index.html">English</a></li>
        <li><a href="../de/index.html">Deutsch</a></li>
        <li><a href="../ja/index.html">日本語</a></li>
    </ul></span>
  </header>

  <body>
    <h1>カメラの回転移動とズーム</h1>
    <h2>カメラ位置と向きの表現</h2>
    <p>
      カメラの位置と向きは4x4行列（gl-matrixのmat4）を用いて以下のように表される．左から3つの列ベクトルがカメラの各基底ベクトルに対応し，4つ目の列ベクトルがカメラ原点の位置を表す．
    </p>
    <img src="..\images\camera_matrix.svg" width="500">

    <h2>カメラの回転移動</h2>
    <p>
      カメラの回転は，カメラが物体の周りを回るように実装する．そのためカメラ回転中には，カメラの向きだけでなくカメラ位置も変化する．カメラ位置はある回転中心の周りを，カメラのローカル座標を軸にして回転させる．
      具体的な方法としては，まずグローバル座標で表されたカメラの位置をカメラローカル座標（原点を回転中心に置く）に変換し，ローカル座標上でカメラ位置を回転，その後カメラ位置を再度グローバル座標に戻すという手順で行う．
    </p>
    <img src="..\images\camera_rotation.svg" width="500">

    <h2>ズーム</h2>
    <p>
      レイトレーシングを用いる場合，カメラから多数の光線を発生させて描画を行う．このとき光線の1本1本はカンバス上の各ピクセルに対応する．以下の図から分かるように，このカンバスをカメラの近くに置けばカメラを広角，カンバスを遠くに置けばズームすることが出来る．
    </p>
    <img src="..\images\camera_zoom.svg" width="500">
    
  </body>
  <footer>
    <a href="index.html">WebGL2でレイトレーシング</a> &#187;
    <a href="import-shader.html">カメラの回転移動とズーム</a>
    <span style="float: right">Copyright 2021, Kaname Sasaki</span>
  </footer>
</html>